<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <title>Basic AR Shooter</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #fireButton {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 80px;
        height: 80px;
        background-color: red;
        color: white;
        border-radius: 50%;
        border: 2px solid white;
        font-size: 24px;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 999;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <div id="ar-game-container" style="display: none;">
      <a-scene embedded arjs='sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false;'>
        <a-marker-camera preset='hiro'>
          <a-box id="monster-marker" position="0 0.5 0" rotation="0 45 0" color="#EF2D5E" scale="0.5 0.5 0.5"></a-box>
        </a-marker-camera>
      </a-scene>
      <div id="fireButton-marker">FIRE</div>
    </div>

    <script>
      window.addEventListener('load', () => {
        const fireButton = document.getElementById('fireButton-marker');
        const monster = document.getElementById('monster-marker');

        if (fireButton && monster) {
          fireButton.addEventListener('click', function() {
            monster.setAttribute('visible', false);
            alert('Monster Shot Down!');

            setTimeout(() => {
              monster.setAttribute('visible', true);
            }, 5000);
          });
        }
      });
    </script>
  </body>
</html>